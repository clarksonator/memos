<%= form_for :memo, :url => url_for(:controller => "memos", :action => "create"), html: { class: "memo_form" } do |form| %>
  <div class="card">
    <div class="card-content">
      <div class="content">
        <div class="field">
          <%= form.text_area :body, placeholder: "Memo", class: "textarea" %>
        </div>
      </div>
    </div>
    <footer class="card-footer">
      <div class="card-footer-item">
        <div class="file" style="margin-bottom: 0">
          <label class="file-label">
            <%= form.file_field :attachment,
                            accept: "image/png,image/jpg,image/jpeg",
                            class: "file-input" %>
            <span
              class="file-cta"
              style="background-color: var(--ctp-frappe-green); display: inline-block; margin: 0.25em; border: 1px solid silver; border-radius: 0.25em; padding: .25em 0.5em"
            >
              <i class="fa-solid fa-upload fa-fw fa-2x" style="color: black"></i>
            </span>
          </label>
        </div>
        <div class="right">
          <!--<%= button_tag type: 'button', class: "button", style: "background-color: var(--ctp-frappe-mauve); color: black;", onclick: "addTag();" do %>
            <i class="fa-solid fa-hashtag fa-fw fa-2x" aria-hidden="true"></i>
          <% end %>-->
          <%= button_tag type: 'submit', class: "button is-save" do %>
            <i class="fa-solid fa-floppy-disk fa-fw fa-2x" aria-hidden="true"></i>
          <% end %>
        </div>
      </div>
    </footer>
  </div>
  <div id="addTagModal" class="modal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="box">
        <article class="media">
          <%= form.text_field :tagName, placeholder: "Tags", class: "input" %>
          <button class="button" style="margin:auto">
            <i class="fa-solid fa-floppy-disk" aria-hidden="true"></i>
          </button>
        </article>
      </div>
    </div>
    <button class="modal-close is-large" aria-label="close"></button>
  </div>
  <script>
    function addTag(elem) {
      $("#addTagModal").find("#memo_tagName").val($(elem).attr("data-tags"));
      $("#addTagModal").addClass("is-active");
    }
  </script>
<% end %>
